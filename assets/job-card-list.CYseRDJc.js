import{c as W,r as Z,d as J,p as $,a as U,b as H,h as A,e as O,m as pe,s as ne,f as _e,u as me,g as be,i as oe,j as ie,E as we,k as fe,H as le,l as X,n as V,o as q,q as ye,t as T,v as xe,C as Ee,w as Le,x as te,y as I,z as re,A as Te,B as Ae,D as Ne,F as Se,I as K,G as je,J as Ie,K as ee,L as Me,M as ke,N as De,O as Re,P as Ce,Q as ce,R as D,S as w,T as R,U as m,V as Y,W as k,X as ue,Y as B,Z as Pe,_ as de,$ as Oe,a0 as z,a1 as Fe,a2 as P}from"./render.BK5Wy1TD.js";const Ue="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ue);function qe(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}class He{anchor;#t=new Map;#r=new Map;#e=new Map;#a=new Set;#s=!0;constructor(e,r=!0){this.anchor=e,this.#s=r}#n=()=>{var e=W;if(this.#t.has(e)){var r=this.#t.get(e),s=this.#r.get(r);if(s)Z(s),this.#a.delete(r);else{var i=this.#e.get(r);i&&(this.#r.set(r,i.effect),this.#e.delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),s=i.effect)}for(const[o,n]of this.#t){if(this.#t.delete(o),o===e)break;const a=this.#e.get(n);a&&(J(a.effect),this.#e.delete(n))}for(const[o,n]of this.#r){if(o===r||this.#a.has(o))continue;const a=()=>{if(Array.from(this.#t.values()).includes(o)){var f=document.createDocumentFragment();pe(n,f),f.append(U()),this.#e.set(o,{effect:n,fragment:f})}else J(n);this.#a.delete(o),this.#r.delete(o)};this.#s||!s?(this.#a.add(o),$(n,a,!1)):a()}}};#o=e=>{this.#t.delete(e);const r=Array.from(this.#t.values());for(const[s,i]of this.#e)r.includes(s)||(J(i.effect),this.#e.delete(s))};ensure(e,r){var s=W,i=ne();if(r&&!this.#r.has(e)&&!this.#e.has(e))if(i){var o=document.createDocumentFragment(),n=U();o.append(n),this.#e.set(e,{effect:H(()=>r(n)),fragment:o})}else this.#r.set(e,H(()=>r(this.anchor)));if(this.#t.set(s,e),i){for(const[a,c]of this.#r)a===e?s.skipped_effects.delete(c):s.skipped_effects.add(c);for(const[a,c]of this.#e)a===e?s.skipped_effects.delete(c.effect):s.skipped_effects.add(c.effect);s.oncommit(this.#n),s.ondiscard(this.#o)}else A&&(this.anchor=O),this.#n()}}function Be(t){_e===null&&qe(),me(()=>{const e=be(t);if(typeof e=="function")return e})}function G(t,e,r=!1){A&&ie();var s=new He(t),i=r?we:0;function o(n,a){if(A){const f=fe(t)===le;if(n===f){var c=X();V(c),s.anchor=c,q(!1),s.ensure(n,a),q(!0);return}}s.ensure(n,a)}oe(()=>{var n=!1;e((a,c=!0)=>{n=!0,o(c,a)}),n||o(!1,null)},i)}function ze(t,e,r){for(var s=[],i=e.length,o,n=e.length,a=0;a<i;a++){let u=e[a];$(u,()=>{if(o){if(o.pending.delete(u),o.done.add(u),o.pending.size===0){var h=t.outrogroups;Q(ee(o.done)),h.delete(o),h.size===0&&(t.outrogroups=null)}}else n-=1},!1)}if(n===0){var c=s.length===0&&r!==null;if(c){var f=r,d=f.parentNode;Ie(d),d.append(f),t.items.clear()}Q(e,!c)}else o={pending:new Set(e),done:new Set},(t.outrogroups??=new Set).add(o)}function Q(t,e=!0){for(var r=0;r<t.length;r++)J(t[r],e)}var ae;function Je(t,e,r,s,i,o=null){var n=t,a=new Map;{var c=t;n=A?V(ye(c)):c.appendChild(U())}A&&ie();var f=null,d=xe(()=>{var p=r();return Me(p)?p:p==null?[]:ee(p)}),u,h=!0;function M(){y.fallback=f,Ve(y,u,n,e,s),f!==null&&(u.length===0?(f.f&I)===0?Z(f):(f.f^=I,F(f,null,n)):$(f,()=>{f=null}))}var l=oe(()=>{u=T(d);var p=u.length;let g=!1;if(A){var v=fe(n)===le;v!==(p===0)&&(n=X(),V(n),q(!1),g=!0)}for(var _=new Set,b=W,N=ne(),L=0;L<p;L+=1){A&&O.nodeType===Ee&&O.data===Le&&(n=O,g=!0,q(!1));var C=u[L],E=s(C,L),S=h?null:a.get(E);S?(S.v&&te(S.v,C),S.i&&te(S.i,L),N&&b.skipped_effects.delete(S.e)):(S=Ye(a,h?n:ae??=U(),C,E,L,i,e,r),h||(S.e.f|=I),a.set(E,S)),_.add(E)}if(p===0&&o&&!f&&(h?f=H(()=>o(n)):(f=H(()=>o(ae??=U())),f.f|=I)),A&&p>0&&V(X()),!h)if(N){for(const[ge,he]of a)_.has(ge)||b.skipped_effects.add(he.e);b.oncommit(M),b.ondiscard(()=>{})}else M();g&&q(!0),T(d)}),y={effect:l,items:a,outrogroups:null,fallback:f};h=!1,A&&(n=O)}function Ve(t,e,r,s,i){var o=e.length,n=t.items,a=t.effect.first,c,f=null,d=[],u=[],h,M,l,y;for(y=0;y<o;y+=1){if(h=e[y],M=i(h,y),l=n.get(M).e,t.outrogroups!==null)for(const E of t.outrogroups)E.pending.delete(l),E.done.delete(l);if((l.f&I)!==0)if(l.f^=I,l===a)F(l,null,r);else{var p=f?f.next:a;l===t.effect.last&&(t.effect.last=l.prev),l.prev&&(l.prev.next=l.next),l.next&&(l.next.prev=l.prev),j(t,f,l),j(t,l,p),F(l,p,r),f=l,d=[],u=[],a=f.next;continue}if((l.f&K)!==0&&Z(l),l!==a){if(c!==void 0&&c.has(l)){if(d.length<u.length){var g=u[0],v;f=g.prev;var _=d[0],b=d[d.length-1];for(v=0;v<d.length;v+=1)F(d[v],g,r);for(v=0;v<u.length;v+=1)c.delete(u[v]);j(t,_.prev,b.next),j(t,f,_),j(t,b,g),a=g,f=b,y-=1,d=[],u=[]}else c.delete(l),F(l,a,r),j(t,l.prev,l.next),j(t,l,f===null?t.effect.first:f.next),j(t,f,l),f=l;continue}for(d=[],u=[];a!==null&&a!==l;)(c??=new Set).add(a),u.push(a),a=a.next;if(a===null)continue}(l.f&I)===0&&d.push(l),f=l,a=l.next}if(t.outrogroups!==null){for(const E of t.outrogroups)E.pending.size===0&&(Q(ee(E.done)),t.outrogroups?.delete(E));t.outrogroups.size===0&&(t.outrogroups=null)}if(a!==null||c!==void 0){var N=[];if(c!==void 0)for(l of c)(l.f&K)===0&&N.push(l);for(;a!==null;)(a.f&K)===0&&a!==t.fallback&&N.push(a),a=a.next;var L=N.length;if(L>0){var C=o===0?r:null;ze(t,N,C)}}}function Ye(t,e,r,s,i,o,n,a){var c=(n&Ae)!==0?(n&Ne)===0?Te(r,!1,!1):re(r):null,f=(n&Se)!==0?re(i):null;return{v:c,i:f,e:H(()=>(o(e,c??r,f??i,a),()=>{t.delete(s)}))}}function F(t,e,r){if(t.nodes)for(var s=t.nodes.start,i=t.nodes.end,o=e&&(e.f&I)===0?e.nodes.start:r;s!==null;){var n=je(s);if(o.before(s),s===i)return;s=n}}function j(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}const Ge=Symbol("is custom element"),Ke=Symbol("is html");function x(t,e,r,s){var i=We(t);A&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=r)&&(e==="loading"&&(t[ke]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Xe(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function We(t){return t.__attributes??={[Ge]:t.nodeName.includes("-"),[Ke]:t.namespaceURI===De}}var se=new Map;function Xe(t){var e=t.getAttribute("is")||t.nodeName,r=se.get(e);if(r)return r;se.set(e,r=[]);for(var s,i=t,o=Element.prototype;o!==i;){s=Ce(i);for(var n in s)s[n].set&&r.push(n);i=Re(i)}return r}const Qe="https://eriandev.github.io/api/remotive",ve="https://eriandev.github.io/remotive-jobs/",Ze={day:86400,hour:3600,minute:60,second:1};function $e(t){return t==="Worldwide"||t==="Anywhere"?"worldwide-symbol.webp":"remote-symbol.webp"}function et(t,e="en"){const r=new Date(t),s=new Intl.RelativeTimeFormat(e),i=tt(r.getTime()),{value:o,unit:n}=rt(i);return s.format(o,n)}const tt=t=>(Date.now()-t)/1e3,rt=t=>{for(const[e,r]of Object.entries(Ze))if(t>=r||e==="second")return{value:Math.floor(t/r)*-1,unit:e};return{value:0,unit:"second"}};var at=D('<div class="grid grid-cols-[fit-content(100%)_auto] items-center gap-1 rounded-full bg-[rgba(0,0,0,0.06)] px-2 py-1 text-xs font-light"><img/> <span class="grid grid-cols-[fit-content(100%)_auto] rounded-full uppercase"> </span></div>'),st=D('<div class="grid grid-cols-[fit-content(100%)_auto] items-center gap-1 rounded-full bg-chocolate px-2 py-1 text-xs font-semibold text-secondary"><span class="grid grid-cols-[fit-content(100%)_auto] rounded-full uppercase"> </span></div>'),nt=D('<article class="group grid min-h-17.5 w-full items-center rounded-2xl border border-[rgb(237,242,247)] bg-secondary hover:bg-[#fed294c9]"><a target="_blank" rel="noopener noreferrer" class="grid w-full grid-cols-[auto_fit-content(100%)] items-center gap-2 px-4 py-2"><div class="grid grid-cols-[minmax(0,32px)_auto] items-center gap-2"><img class="rounded-full object-contain"/> <div class="flex flex-col gap-1"><h3 class="text-sm font-semibold group-hover:opacity-70 sm:text-lg"> </h3> <div class="grid auto-cols-max grid-flow-col gap-2"><!> <!></div></div></div> <div class="hidden sm:block sm:font-poppins sm:text-sm sm:font-light"><span> </span></div></a></article>');function ot(t,e){ce(e,!0);var r=nt(),s=w(r),i=w(s),o=w(i);x(o,"width",32),x(o,"height",32);var n=R(o,2),a=w(n),c=w(a);m(a);var f=R(a,2),d=w(f);{var u=g=>{var v=at(),_=w(v);x(_,"width",18),x(_,"height",18);var b=R(_,2),N=w(b,!0);m(b),m(v),Y(L=>{x(v,"title",`Location: ${e.job.requiredLocation??""}`),x(_,"alt",e.job?.requiredLocation),x(_,"src",`${ve}/${L??""}`),B(N,e.job.requiredLocation)},[()=>$e(e.job.requiredLocation)]),k(g,v)};G(d,g=>{e.job?.requiredLocation&&g(u)})}var h=R(d,2);{var M=g=>{var v=st(),_=w(v),b=w(_);m(_),m(v),Y(()=>{x(v,"title",`Salary: ${e.job.salary??""}`),B(b,`ðŸ’¸ ${e.job.salary??""}`)}),k(g,v)};G(h,g=>{e.job?.salary&&g(M)})}m(f),m(n),m(i);var l=R(i,2),y=w(l),p=w(y,!0);m(y),m(l),m(s),m(r),Y(g=>{x(s,"href",e.job.url),x(o,"alt",e.job.companyName),x(o,"src",e.job?.companyLogo),B(c,`${e.job.title??""} â€¢ ${e.job.companyName??""}`),B(p,g)},[()=>et(e.job.publicationDate)]),k(t,r),ue()}var it=D('<img alt="Doge" class="w-16"/> <span class="font-poppins">Loading more jobs...</span>',1),ft=D('<button class="btn outline w-max">Load more jobs</button>'),lt=D('<footer class="w-full grid gap-y-2 justify-items-center"><!></footer>');function ct(t,e){var r=lt(),s=w(r);{var i=n=>{var a=it(),c=de(a);Oe(2),Y(()=>x(c,"src",`${ve}/doge.webp`)),k(n,a)},o=n=>{var a=ft();a.__click=function(...c){e.action?.apply(this,c)},k(n,a)};G(s,n=>{e.loading?n(i):n(o,!1)})}m(r),k(t,r)}Pe(["click"]);async function ut(t=1){try{const r=await(await fetch(Qe+`/${t}/`)).json();return{prev:r.prev,next:r.next,jobCount:r.job_count,totalPages:r.total_pages,jobsPerPage:r.jobs_per_page,results:r.results.map(s=>({...s,jobType:s.job_type,companyLogo:s.company_logo,companyName:s.company_name,publicationDate:s.publication_date,requiredLocation:s.candidate_required_location}))}}catch(e){return console.error(e),{jobCount:0,totalPages:0,jobsPerPage:0,results:[]}}}var dt=D('<main class="grid grid-flow-row gap-2 pb-12"></main> <!>',1);function gt(t,e){ce(e,!0);let r=z(1),s=z(!0),i=z(!1),o=z(Fe([]));async function n(){if(T(i))return;P(s,!0);const u=await ut(T(r));P(o,[...T(o),...u.results],!0),u.next?P(r,T(r)+1):P(i,!0),P(s,!1)}Be(()=>{n()});var a=dt(),c=de(a);Je(c,21,()=>T(o),u=>u.id,(u,h)=>{ot(u,{get job(){return T(h)}})}),m(c);var f=R(c,2);{var d=u=>{ct(u,{get loading(){return T(s)},action:n})};G(f,u=>{T(i)||u(d)})}k(t,a),ue()}export{gt as default};
